
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Riva - The Voice of RevvGrowth | AI Chatbot</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,1,0" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">

    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        body{font-family:'Inter',sans-serif;line-height:1.6;color:#333;overflow-x:hidden}
        .container{max-width:1200px;margin:0 auto;padding:0 20px}
        header{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;padding:1rem 0;position:fixed;width:100%;top:0;z-index:100;backdrop-filter:blur(10px);transition:all .3s ease}
        nav{display:flex;justify-content:space-between;align-items:center}
        .logo{font-size:1.8rem;font-weight:700;display:flex;align-items:center;gap:10px}
        .nav-links{display:flex;list-style:none;gap:30px}
        .nav-links a{color:#fff;text-decoration:none;font-weight:500;transition:color .3s ease}
        .nav-links a:hover{color:#f0f0f0}
        .mobile-menu-toggle{display:none;color:#fff;font-size:1.5rem;cursor:pointer}

        .hero{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;padding:120px 0 80px;text-align:center;position:relative;overflow:hidden}
        .hero::before{content:'';position:absolute;inset:0;background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 20"><defs><radialGradient id="a" cx="50" cy="40" r="50"><stop offset="0" stop-color="%23FFF" stop-opacity="0.1"/><stop offset="1" stop-color="%23FFF" stop-opacity="0"/></radialGradient></defs><circle cx="50" cy="40" r="50" fill="url(%23a)"/></svg>') repeat;opacity:.1}
        .hero-content{position:relative;z-index:1}
        .hero h1{font-size:3.5rem;margin-bottom:20px;font-weight:700;animation:fadeInUp 1s ease}
        .hero p{font-size:1.2rem;margin-bottom:30px;max-width:600px;margin-left:auto;margin-right:auto;opacity:.9;animation:fadeInUp 1s ease .3s both}
        .cta-button{display:inline-block;background:#ff6b6b;color:#fff;padding:15px 40px;text-decoration:none;border-radius:50px;font-weight:600;font-size:1.1rem;transition:all .3s ease;box-shadow:0 4px 15px rgba(255,107,107,.3);animation:fadeInUp 1s ease .6s both;margin:10px;border:none;cursor:pointer}
        .cta-button:hover{background:#ff5252;transform:translateY(-2px);box-shadow:0 6px 20px rgba(255,107,107,.4)}
        .cta-button.secondary{background:transparent;border:2px solid #fff;color:#fff}
        .cta-button.secondary:hover{background:#fff;color:#667eea}
        .hero-illustration{margin-top:50px;animation:fadeInUp 1s ease .9s both}
        .chatbot-demo{width:300px;height:500px;background:#fff;border-radius:20px;margin:0 auto;box-shadow:0 20px 40px rgba(0,0,0,.1);display:flex;flex-direction:column;overflow:hidden}
        .chatbot-header{background:#667eea;color:#fff;padding:20px;text-align:center;font-weight:600}
        .chatbot-messages{flex:1;padding:20px;background:#f8f9fa;display:flex;flex-direction:column;gap:15px}
        .message{max-width:80%;padding:12px 16px;border-radius:18px;font-size:.9rem;color:#333}
        .message.bot{background:#e3f2fd;align-self:flex-start}
        .message.user{background:#667eea;color:#fff;align-self:flex-end}

        .features{padding:80px 0;background:#f8f9fa}
        .features h2{text-align:center;font-size:2.5rem;margin-bottom:20px;color:#333}
        .features-subtitle{text-align:center;font-size:1.1rem;color:#666;margin-bottom:60px;max-width:600px;margin-left:auto;margin-right:auto}
        .features-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:40px;margin-top:60px}
        .feature-card{background:#fff;padding:40px 30px;border-radius:15px;text-align:center;box-shadow:0 5px 20px rgba(0,0,0,.08);transition:all .3s ease;border:1px solid #e0e0e0}
        .feature-card:hover{transform:translateY(-5px);box-shadow:0 10px 30px rgba(0,0,0,.15)}
        .feature-icon{width:80px;height:80px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 25px;color:#fff;font-size:2rem}
        .feature-card h3{font-size:1.4rem;margin-bottom:15px;color:#333}
        .feature-card p{color:#666;line-height:1.6}

        .about{padding:80px 0;background:#fff}
        .about-content{display:grid;grid-template-columns:1fr 1fr;gap:60px;align-items:center}
        .about-text h2{font-size:2.5rem;margin-bottom:25px;color:#333}
        .about-text p{font-size:1.1rem;color:#666;margin-bottom:20px;line-height:1.7}
        .stats{display:grid;grid-template-columns:repeat(2,1fr);gap:30px;margin-top:40px}
        .stat{text-align:center;padding:20px;background:#f8f9fa;border-radius:10px}
        .stat-number{font-size:2.5rem;font-weight:700;color:#667eea;display:block}
        .stat-label{color:#666;font-size:.9rem;margin-top:5px}
        .about-visual{position:relative}
        .about-image{width:100%;height:400px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);border-radius:20px;display:flex;align-items:center;justify-content:center;color:#fff;font-size:4rem;position:relative;overflow:hidden}
        .floating-elements{position:absolute;inset:0}
        .floating-element{position:absolute;background:rgba(255,255,255,.1);border-radius:10px;animation:float 6s ease-in-out infinite}
        .floating-element:nth-child(1){width:60px;height:60px;top:20%;right:20%;animation-delay:0s}
        .floating-element:nth-child(2){width:40px;height:40px;bottom:30%;left:15%;animation-delay:2s}
        .floating-element:nth-child(3){width:50px;height:50px;top:60%;right:30%;animation-delay:4s}

        .chatbot-integration{padding:80px 0;background:#f8f9fa}
        .integration-content{text-align:center;max-width:800px;margin:0 auto}
        .integration-content h2{font-size:2.5rem;margin-bottom:25px;color:#333}
        .integration-content p{font-size:1.1rem;color:#666;margin-bottom:40px;line-height:1.7}
        .chatbot-widget-demo{background:#fff;border-radius:15px;padding:30px;box-shadow:0 10px 30px rgba(0,0,0,.1);margin:40px 0}
        .widget-placeholder{border:2px dashed #667eea;border-radius:10px;padding:60px 20px;text-align:center;color:#667eea;font-size:1.1rem}

        footer{background:#333;color:#fff;padding:60px 0 30px}
        .footer-content{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:40px;margin-bottom:40px}
        .footer-section h3{margin-bottom:20px;color:#fff}
        .footer-section p,.footer-section a{color:#ccc;text-decoration:none;line-height:1.8}
        .footer-section a:hover{color:#fff}
        .footer-bottom{text-align:center;padding-top:30px;border-top:1px solid #555;color:#ccc}
        .social-links{display:flex;gap:15px;justify-content:center;margin-bottom:20px}
        .social-links a{width:40px;height:40px;background:#667eea;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;transition:all .3s ease}
        .social-links a:hover{background:#764ba2;transform:translateY(-2px)}

        .chatbot-toggler{position:fixed;bottom:30px;right:35px;outline:none;border:none;height:60px;width:60px;display:flex;cursor:pointer;align-items:center;justify-content:center;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);transition:all .2s ease;box-shadow:0 4px 20px rgba(102,126,234,.3);z-index:9999}
        .chatbot-toggler:hover{transform:scale(1.1);box-shadow:0 6px 25px rgba(102,126,234,.4)}
        body.show-chatbot .chatbot-toggler{transform:rotate(90deg)}
        .chatbot-toggler span{color:#fff;position:absolute;font-size:1.5rem}
        .chatbot-toggler span:last-child,body.show-chatbot .chatbot-toggler span:first-child{opacity:0}
        body.show-chatbot .chatbot-toggler span:last-child{opacity:1}

        .chatbot{position:fixed;right:35px;bottom:100px;width:420px;background:#fff;border-radius:15px;overflow:hidden;opacity:0;pointer-events:none;transform:scale(.5);transform-origin:bottom right;box-shadow:0 0 128px 0 rgba(0,0,0,.1),0 32px 64px -48px rgba(0,0,0,.5);transition:all .1s ease;z-index:9998;font-family:"Poppins",sans-serif}
        body.show-chatbot .chatbot{opacity:1;pointer-events:auto;transform:scale(1)}
        .chatbot header{padding:16px 0;position:relative;text-align:center;color:#fff;background:linear-gradient(135deg,#667eea,#764ba2);box-shadow:0 2px 10px rgba(0,0,0,.1)}
        .chatbot header span{position:absolute;right:15px;top:50%;display:none;cursor:pointer;transform:translateY(-50%)}
        .chatbot header h2{font-size:1.4rem;margin:0}
        .chatbot header small{font-size:.8rem;opacity:.8}
        .chatbot .chatbox{overflow-y:auto;height:510px;padding:30px 20px 100px;list-style:none}
        .chatbot :where(.chatbox,textarea)::-webkit-scrollbar{width:6px}
        .chatbot :where(.chatbox,textarea)::-webkit-scrollbar-track{background:#fff;border-radius:25px}
        .chatbot :where(.chatbox,textarea)::-webkit-scrollbar-thumb{background:#ccc;border-radius:25px}

        .chatbox .chat{display:flex;margin:20px 0}
        .chatbox .outgoing{justify-content:flex-end}
        .chatbox .incoming span{width:32px;height:32px;color:#fff;text-align:center;line-height:32px;align-self:flex-end;background:#667eea;border-radius:4px;margin:0 10px 7px 0}
        .chatbox .chat p{white-space:pre-wrap;padding:12px 16px;border-radius:10px 10px 0 10px;max-width:75%;color:#fff;font-size:.95rem;background:#667eea}
        .chatbox .incoming p{border-radius:10px 10px 10px 0;color:#000;background:#f2f2f2}
        .chatbox .chat p.error{color:#721c24;background:#f8d7da}

        .chatbot .chat-input{display:flex;gap:5px;position:absolute;bottom:0;width:100%;background:#fff;padding:3px 20px;border-top:1px solid #ddd}
        .chat-input textarea{height:55px;width:100%;border:none;outline:none;resize:none;max-height:180px;padding:15px 15px 15px 0;font-size:.95rem;font-family:"Poppins",sans-serif}
        .chat-input span{align-self:flex-end;color:#667eea;cursor:pointer;height:55px;display:flex;align-items:center;visibility:hidden;font-size:1.35rem}
        .chat-input textarea:valid ~ span{visibility:visible}

        .suggestion-container{display:flex;flex-wrap:wrap;justify-content:center;margin-top:10px;max-height:150px;overflow-y:auto}
        .suggestion-container::-webkit-scrollbar{width:6px}
        .suggestion-container::-webkit-scrollbar-thumb{background-color:#667eea;border-radius:10px}
        .suggestion-container::-webkit-scrollbar-track{background:#ffffff;border-radius:10px}
        .suggestion-btn{background:none;color:#667eea;border:1px solid #667eea;border-radius:5px;padding:8px 12px;font-size:14px;cursor:pointer;transition:all .35s ease;font-family:"Poppins",sans-serif;margin:5px;flex:1 1 calc(33% - 10px);box-sizing:border-box;text-align:center}
        .suggestion-btn:hover{background-color:#667eea;color:#fff}

        /* typing bubble: icon + three bouncing dots (no text) */
        .typing-bubble{display:inline-flex;gap:6px;align-items:center;padding:10px 12px;background:#f2f2f2;border-radius:12px;margin-left:8px}
        .typing-bubble span{width:6px;height:6px;border-radius:50%;background:#bbb;display:inline-block;animation:tbounce 1.2s infinite}
        .typing-bubble span:nth-child(2){animation-delay:.2s}
        .typing-bubble span:nth-child(3){animation-delay:.4s}
        @keyframes tbounce{0%,60%,100%{transform:translateY(0);opacity:.4}30%{transform:translateY(-6px);opacity:1}}

        .connection-status{position:fixed;top:80px;right:20px;padding:8px 12px;border-radius:20px;font-size:12px;font-weight:500;z-index:1000;transition:all .3s ease;display:none}
        .connection-status.connected{background:#d4edda;color:#155724;border:1px solid #c3e6cb}
        .connection-status.disconnected{background:#f8d7da;color:#721c24;border:1px solid #f5c6cb}

        @keyframes fadeInUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}
        @keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-20px)}}
        @keyframes pulse{0%{box-shadow:0 0 0 0 rgba(102,126,234,.7)}70%{box-shadow:0 0 0 10px rgba(102,126,234,0)}100%{box-shadow:0 0 0 0 rgba(102,126,234,0)}}
        .chatbot-toggler.pulse{animation:pulse 2s infinite}

        @media (max-width:768px){
            .nav-links{position:fixed;top:70px;left:-100%;width:100%;height:calc(100vh - 70px);background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);flex-direction:column;align-items:center;justify-content:flex-start;padding-top:50px;transition:left .3s ease;z-index:99}
            .nav-links.active{left:0}
            .mobile-menu-toggle{display:block}
            .hero h1{font-size:2.5rem}
            .hero p{font-size:1rem}
            .about-content{grid-template-columns:1fr;gap:40px}
            .stats{grid-template-columns:1fr;gap:20px}
            .features h2,.about-text h2,.integration-content h2{font-size:2rem}
            .chatbot-demo{width:280px;height:400px}
            .chatbot-toggler{right:20px;bottom:20px;height:50px;width:50px;z-index:9999}
            .chatbot{right:0;bottom:0;height:100%;border-radius:0;width:100%;z-index:9998}
            .chatbot .chatbox{height:calc(100% - 140px);padding:25px 15px 100px}
            .chatbot .chat-input{padding:5px 15px}
            .chatbot header span{display:block}
            .suggestion-btn{font-size:12px;padding:6px 8px;margin:3px;flex:1 1 calc(50% - 10px)}
            .connection-status{top:70px;right:10px;font-size:11px}
        }
        @media (max-width:480px){
            .hero h1{font-size:2rem}
            .cta-button{padding:12px 30px;font-size:1rem}
            .suggestion-btn{font-size:11px;padding:6px 10px;margin:3px;flex:1 1 calc(100% - 10px)}
        }
        body.show-chatbot .nav-links.active{z-index:9997}
    </style>
</head>
<body>
    <!-- Connection Status Indicator -->
    <div id="connection-status" class="connection-status">
        <i class="fas fa-wifi"></i> <span id="status-text">Connecting...</span>
    </div>

    <!-- Header -->
    <header id="main-header">
        <nav class="container">
            <div class="logo">
                <img src="https://i.ibb.co/QjYWQwQ2/Logomark-White.png" width="20" height="20" alt="Riva logo">
                <span>Riva</span>
            </div>
            <ul class="nav-links" id="nav-links">
                <li><a href="#home" onclick="closeMenu()">Home</a></li>
                <li><a href="#features" onclick="closeMenu()">Features</a></li>
                <li><a href="#about" onclick="closeMenu()">About</a></li>
                <li><a href="#integration" onclick="closeMenu()">Integration</a></li>
                <li><a href="#contact" onclick="closeMenu()">Contact</a></li>
            </ul>
            <div class="mobile-menu-toggle" onclick="toggleMenu()">
                <i class="fas fa-bars"></i>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="container">
            <div class="hero-content">
                <h1>Riva - The Voice of RevvGrowth</h1>
                <p>Transform your customer experience with our intelligent AI chatbot. Engage, assist, and grow your business 24/7 with cutting-edge conversational AI technology powered by N8N automation.</p>
                <button class="cta-button" onclick="openChatbot()">
                    <i class="fas fa-comments"></i> Try Riva Now
                </button>
                <a href="https://revvgrowth.com" class="cta-button secondary" target="_blank" rel="noopener">
                    <i class="fas fa-external-link-alt"></i> Visit RevvGrowth
                </a>

                <div class="hero-illustration">
                    <div class="chatbot-demo">
                        <div class="chatbot-header">
                            <i class="fas fa-robot"></i> Riva AI Assistant
                        </div>
                        <div class="chatbot-messages">
                            <div class="message bot"><i class="fas fa-robot" style="margin-right:8px;"></i>Hello! I'm Riva. How can I help you today?</div>
                            <div class="message user">Tell me about your features</div>
                            <div class="message bot">I can help with customer support, lead generation, appointment booking, and much more! 🚀</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="features">
        <div class="container">
            <h2>Powerful AI Features</h2>
            <p class="features-subtitle">Discover how Riva can revolutionize your customer interactions and boost your business growth with N8N-powered automation</p>

            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-comments"></i></div>
                    <h3>Natural Conversations</h3>
                    <p>Advanced NLP technology enables human-like conversations that understand context and provide meaningful responses to your customers.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-clock"></i></div>
                    <h3>24/7 Availability</h3>
                    <p>Never miss a customer inquiry. Riva works around the clock to provide instant support and capture leads even when you're offline.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-brain"></i></div>
                    <h3>N8N Integration</h3>
                    <p>Powered by N8N automation workflows, Riva can connect to multiple services, APIs, and databases for comprehensive customer support.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-chart-line"></i></div>
                    <h3>Analytics & Insights</h3>
                    <p>Gain valuable insights into customer behavior, common queries, and conversation patterns to optimize your business strategy.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-plug"></i></div>
                    <h3>Easy Integration</h3>
                    <p>Seamlessly integrate with your existing systems, CRM, and platforms with our simple API and embed codes.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-shield-alt"></i></div>
                    <h3>Enterprise Security</h3>
                    <p>Bank-level security with end-to-end encryption ensures your customer data and conversations remain protected.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="about">
        <div class="container">
            <div class="about-content">
                <div class="about-text">
                    <h2>About RevvGrowth</h2>
                    <p>At RevvGrowth, we're passionate about helping businesses accelerate their growth through innovative AI solutions. Riva represents our commitment to making advanced conversational AI accessible to businesses of all sizes.</p>
                    <p>Our team of AI experts, developers, and customer success specialists work tirelessly to ensure that Riva not only meets but exceeds your expectations for customer engagement and business automation.</p>
                    <div class="stats">
                        <div class="stat"><span class="stat-number">10K+</span><span class="stat-label">Active Users</span></div>
                        <div class="stat"><span class="stat-number">99.9%</span><span class="stat-label">Uptime</span></div>
                        <div class="stat"><span class="stat-number">24/7</span><span class="stat-label">Support</span></div>
                        <div class="stat"><span class="stat-number">150+</span><span class="stat-label">Integrations</span></div>
                    </div>
                </div>
                <div class="about-visual">
                    <div class="about-image">
                        <div class="floating-elements">
                            <div class="floating-element"></div>
                            <div class="floating-element"></div>
                            <div class="floating-element"></div>
                        </div>
                        <i class="fas fa-cogs"></i>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Chatbot Integration Section -->
    <section id="integration" class="chatbot-integration">
        <div class="container">
            <div class="integration-content">
                <h2>Experience Riva AI in Action</h2>
                <p>Ready to see how Riva can transform your customer experience? Click the chat button below to start a conversation with our AI assistant powered by N8N automation. Experience firsthand how intelligent, responsive, and helpful Riva can be for your business.</p>

                <div class="chatbot-widget-demo">
                    <div class="widget-placeholder">
                        <i class="fas fa-robot" style="font-size:3rem;margin-bottom:20px;display:block;"></i>
                        <strong>Click the chat button to interact with Riva!</strong><br>
                        <span style="font-size:.9rem;color:#888;">Our live AI chatbot is ready to answer your questions and demonstrate its capabilities</span><br><br>
                        <button class="cta-button" onclick="openChatbot()"><i class="fas fa-comments"></i> Start Chatting with Riva</button>
                    </div>
                </div>

                <a href="https://revvgrowth.com" class="cta-button" target="_blank" rel="noopener">
                    <i class="fas fa-external-link-alt"></i> Visit RevvGrowth.com
                </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer id="contact">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3><i class="fas fa-robot"></i> Riva AI</h3>
                    <p>The Voice of RevvGrowth - Intelligent AI chatbot solution that transforms customer experiences and accelerates business growth through advanced conversational AI technology.</p>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <p><a href="#features">Features</a></p>
                    <p><a href="#about">About Us</a></p>
                    <p><a href="#integration">Integration</a></p>
                    <p><a href="https://revvgrowth.com" target="_blank" rel="noopener">RevvGrowth.com</a></p>
                </div>
                <div class="footer-section">
                    <h3>Support</h3>
                    <p><a href="mailto:support@revvgrowth.com">support@revvgrowth.com</a></p>
                    <p><a href="#" onclick="openChatbot()">Live Chat Support</a></p>
                    <p><a href="#">API Documentation</a></p>
                    <p><a href="#">Help Center</a></p>
                </div>
                <div class="footer-section">
                    <h3>Connect</h3>
                    <div class="social-links">
                        <a href="#" target="_blank" rel="noopener"><i class="fab fa-twitter"></i></a>
                        <a href="#" target="_blank" rel="noopener"><i class="fab fa-linkedin"></i></a>
                        <a href="#" target="_blank" rel="noopener"><i class="fab fa-facebook"></i></a>
                        <a href="#" target="_blank" rel="noopener"><i class="fab fa-instagram"></i></a>
                    </div>
                    <p>Follow us for updates and AI insights</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 RevvGrowth. All rights reserved. | Powered by Riva AI & N8N Automation</p>
            </div>
        </div>
    </footer>

    <!-- Chatbot -->
    <button class="chatbot-toggler" id="chatbot-toggler" aria-label="Toggle chatbot">
        <span class="material-symbols-rounded">mode_comment</span>
        <span class="material-symbols-outlined">close</span>
    </button>

    <div class="chatbot" role="dialog" aria-modal="true" aria-labelledby="riva-title">
        <header>
            <h2 id="riva-title">Riva</h2>
            <small>The Voice of RevvGrowth</small>
            <span class="close-btn material-symbols-outlined" role="button" tabindex="0">close</span>
        </header>
        <!-- FIXED: ul contains li items only -->
        <ul class="chatbox" id="chatbox"></ul>
        <div class="chat-input">
            <textarea id="message-input" placeholder="Enter a message..." spellcheck="false" required></textarea>
            <span id="send-btn" class="material-symbols-rounded" role="button" tabindex="0">send</span>
        </div>
    </div>

    <script>
        // =========================
        // LANDING PAGE SCRIPTS
        // =========================
        function toggleMenu(){
            const navLinks=document.getElementById('nav-links');
            const toggle=document.querySelector('.mobile-menu-toggle i');
            navLinks.classList.toggle('active');
            if(navLinks.classList.contains('active')){
                toggle.classList.remove('fa-bars');toggle.classList.add('fa-times');
            }else{
                toggle.classList.remove('fa-times');toggle.classList.add('fa-bars');
            }
        }
        function closeMenu(){
            const navLinks=document.getElementById('nav-links');
            const toggle=document.querySelector('.mobile-menu-toggle i');
            navLinks.classList.remove('active');
            toggle.classList.remove('fa-times');toggle.classList.add('fa-bars');
        }
        function openChatbot(){
            document.body.classList.add('show-chatbot');
            closeMenu();
            document.getElementById('chatbot-toggler').classList.remove('pulse');
        }

        document.querySelectorAll('a[href^="#"]').forEach(anchor=>{
            anchor.addEventListener('click',function(e){
                e.preventDefault();
                const target=document.querySelector(this.getAttribute('href'));
                if(target){target.scrollIntoView({behavior:'smooth',block:'start'});}
            });
        });

        window.addEventListener('scroll',()=>{
            const header=document.getElementById('main-header');
            if(window.scrollY>100){
                header.style.background='rgba(102, 126, 234, 0.95)';
                header.style.backdropFilter='blur(10px)';
            }else{
                header.style.background='linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
                header.style.backdropFilter='none';
            }
        });

        const observerOptions={threshold:0.1,rootMargin:'0px 0px -50px 0px'};
        const observer=new IntersectionObserver(entries=>{
            entries.forEach(entry=>{
                if(entry.isIntersecting){
                    entry.target.style.opacity='1';
                    entry.target.style.transform='translateY(0)';
                }
            });
        },observerOptions);
        document.querySelectorAll('.feature-card').forEach(card=>{
            card.style.opacity='0';card.style.transform='translateY(30px)';card.style.transition='all .6s ease';observer.observe(card);
        });

        // =========================
        // CHATBOT + N8N
        // =========================
        const chatbotToggler=document.querySelector(".chatbot-toggler");
        const closeBtn=document.querySelector(".close-btn");
        const chatbox=document.getElementById("chatbox");
        const messageInput=document.getElementById("message-input");
        const sendChatBtn=document.getElementById("send-btn");
        const connectionStatus=document.getElementById("connection-status");
        const statusText=document.getElementById("status-text");

        const N8N_WEBHOOK_URL='https://n8n.srv992398.hstgr.cloud/webhook/41b84e23-42c9-4ef0-949d-ae8cad2ee373';

        const updateConnectionStatus=(status,message)=>{
            connectionStatus.className=`connection-status ${status}`;
            statusText.textContent=message||'';
            if(status==='connected'){
                connectionStatus.innerHTML='<i class="fas fa-check-circle"></i> <span>N8N Connected</span>';
                connectionStatus.style.display='block';
                setTimeout(()=>{connectionStatus.style.display='none';},3000);
            }else if(status==='disconnected'){
                connectionStatus.innerHTML='<i class="fas fa-exclamation-triangle"></i> <span>Connection Failed</span>';
                connectionStatus.style.display='block';
            }else{
                connectionStatus.style.display='block';
            }
        };

        const getUserId=()=>{
            let id=localStorage.getItem('riva_user_id');
            if(!id){id='riva_user_'+Math.random().toString(36).substr(2,9);localStorage.setItem('riva_user_id',id);}
            return id;
        };
        const getSessionId=()=>{
            let sid=sessionStorage.getItem('riva_session_id');
            if(!sid){sid='riva_session_'+Date.now()+'_'+Math.random().toString(36).substr(2,5);sessionStorage.setItem('riva_session_id',sid);}
            return sid;
        };

        const createChatLi=(message,className,isSuggestion=false)=>{
            const li=document.createElement("li");
            li.classList.add("chat",className);
            if(isSuggestion && className==="incoming"){
                const wrap=document.createElement("div");
                wrap.className="suggestion-container";
                (message||[]).forEach(s=>{
                    const btn=document.createElement("button");
                    btn.className="suggestion-btn";
                    btn.textContent=typeof s==='object'?(s.text||s.title||s.label||'Learn more'):String(s);
                    wrap.appendChild(btn);
                });
                li.innerHTML=`<span class="material-symbols-outlined">smart_toy</span>`;
                li.appendChild(wrap);
            }else{
                li.innerHTML= className==="outgoing"
                  ? `<p>${message}</p>`
                  : `<span class="material-symbols-outlined">smart_toy</span><p>${message}</p>`;
            }
            return li;
        };

        // dots-only typing indicator
        const createTypingIndicator=()=>{
            const li=document.createElement("li");
            li.classList.add("chat","incoming","typing-message");
            li.innerHTML=`
                <span class="material-symbols-outlined" aria-hidden="true">smart_toy</span>
                <div class="typing-bubble" aria-live="polite" aria-label="Riva is typing">
                    <span></span><span></span><span></span>
                </div>`;
            return li;
        };

        // parse n8n response: [ { text: "{...}" } ] or other shapes
        const parseBackendPayload=(raw)=>{
            try{
                const first = Array.isArray(raw) ? raw[0] : raw;
                if(first && typeof first.text==='string'){
                    return JSON.parse(first.text);
                }
                if(typeof first?.data==='string') return JSON.parse(first.data);
                if(typeof first?.message==='string') return JSON.parse(first.message);
                if(first?.reply || first?.suggestions || first?.buttons) return first;
                if(typeof raw==='string') return JSON.parse(raw);
            }catch(e){
                console.warn('Parse failed:', e, raw);
            }
            return { reply:"Sorry, I couldn't understand the server response.", suggestions:[] };
        };

        // lightweight local dynamic suggestions (fallback only)
        const generateSuggestionsDynamic=(botReply)=>{
            const text=(botReply||"").toLowerCase().replace(/[^a-z0-9\s]/g,' ');
            const tokens=text.split(/\s+/).filter(w=>w.length>3);
            const uniq=[...new Set(tokens)];
            const p1=uniq.slice(0,2).join(' ')||'this';
            const p2=uniq[2]||'it';
            const built=[
                `Tell me more about ${p1}`,
                `How does ${p2} work in practice?`,
                `Show me a quick example`,
                `Can I try this now?`
            ];
            return built.slice(0,4);
        };

        const sendMessageToN8N=async (message)=>{
            const payload={
                message,query:message,input:message,user_input:message,
                timestamp:new Date().toISOString(),
                user_id:getUserId(),session_id:getSessionId(),
                source:'riva_chatbot',page_url:window.location.href,user_agent:navigator.userAgent,
                want_suggestions:true
            };
            const controller=new AbortController();
            const timeoutId=setTimeout(()=>controller.abort(),30000);
            const res=await fetch(N8N_WEBHOOK_URL,{
                method:'POST',
                headers:{'Content-Type':'application/json','Accept':'application/json, text/plain, */*','Cache-Control':'no-cache'},
                body:JSON.stringify(payload),
                signal:controller.signal
            });
            clearTimeout(timeoutId);
            if(!res.ok) throw new Error(`HTTP ${res.status}: ${res.statusText}`);
            const ct=res.headers.get('content-type')||'';
            if(ct.includes('application/json')) return res.json();
            const txt=await res.text();
            try{return JSON.parse(txt);}catch{return [{text:txt}];}
        };

        const processN8NResponse=(data)=>{
            // after parseBackendPayload we expect { reply, suggestions? }
            if(!data) return "Sorry, I didn't receive a proper response. Please try again.";
            if(typeof data==='string') return data;
            return data.reply || data.message || data.output || data.text || data.result || data.response || data.answer || "Got it.";
        };

        const handleChat=async (message=null)=>{
            const userMessage=(message||messageInput.value).trim();
            if(!userMessage) return;

            messageInput.value="";
            chatbox.appendChild(createChatLi(userMessage,"outgoing"));
            chatbox.scrollTo(0,chatbox.scrollHeight);

            const typing=createTypingIndicator();
            chatbox.appendChild(typing);
            chatbox.scrollTo(0,chatbox.scrollHeight);

            try{
                const raw=await sendMessageToN8N(userMessage);
                const typingMsg=document.querySelector('.typing-message');
                if(typingMsg) typingMsg.remove();

                const parsed=parseBackendPayload(raw);
                const botReply=processN8NResponse(parsed);

                chatbox.appendChild(createChatLi(botReply,"incoming"));

                // prefer backend suggestions; fallback to local dynamic
                let suggestions=null;
                if(Array.isArray(parsed?.buttons)) suggestions=parsed.buttons.map(b=>typeof b==='object'?(b.text||b.title||b.label):b);
                else if(Array.isArray(parsed?.suggestions)) suggestions=parsed.suggestions;
                else if(Array.isArray(parsed?.quick_replies)) suggestions=parsed.quick_replies.map(q=>typeof q==='object'?(q.title||q.text):q);

                if(!suggestions || !suggestions.length){
                    suggestions=generateSuggestionsDynamic(botReply);
                }
                if(suggestions && suggestions.length){
                    chatbox.appendChild(createChatLi(suggestions,"incoming",true));
                }

                chatbox.scrollTo(0,chatbox.scrollHeight);
                updateConnectionStatus('connected');

            }catch(err){
                const typingMsg=document.querySelector('.typing-message');
                if(typingMsg) typingMsg.remove();

                console.error('Chat Error:',err);
                let errorMessage="I'm having trouble connecting right now. ";
                const e=String(err?.message||err);
                if(e.includes('Failed to fetch')||e.includes('NetworkError')) errorMessage+="Please check your internet connection and try again.";
                else if(e.includes('404')) errorMessage+="The service is temporarily unavailable. Our team has been notified.";
                else if(e.includes('500')) errorMessage+="There's a server issue. Please try again in a moment.";
                else if(e.toLowerCase().includes('timeout')||e.includes('AbortError')) errorMessage+="The request is taking longer than expected. Please try again.";
                else errorMessage+="Please try again later or contact support if the issue persists.";

                chatbox.appendChild(createChatLi(errorMessage,"incoming"));
                chatbox.scrollTo(0,chatbox.scrollHeight);
                updateConnectionStatus('disconnected','Connection Failed');
            }
        };

        const testN8NConnection=async ()=>{
            try{
                updateConnectionStatus('connecting','Connecting to N8N...');
                const response=await sendMessageToN8N('connection_test');
                console.log('✅ N8N Connection Test Successful:',response);
                document.getElementById('chatbot-toggler').classList.add('pulse');
                updateConnectionStatus('connected','N8N Connected');
            }catch(error){
                console.warn('⚠️ N8N Connection Test Failed:',error.message);
                updateConnectionStatus('disconnected','N8N Offline');
            }
        };

        document.addEventListener("DOMContentLoaded",()=>{
            setTimeout(()=>{
                const welcomeMessage=`Welcome to Riva! 🤖 I'm here to help you with any questions about RevvGrowth and our AI solutions.

I'm powered by N8N automation and can assist you with:
- Product information
- Technical support
- Business inquiries
- Integration help

How can I assist you today?`;

                chatbox.appendChild(createChatLi(welcomeMessage,"incoming"));

                // initial suggestions: dynamic from welcome
                const defaultSuggestions=generateSuggestionsDynamic(welcomeMessage);
                chatbox.appendChild(createChatLi(defaultSuggestions,"incoming",true));
                chatbox.scrollTo(0,chatbox.scrollHeight);
            },800);

            messageInput.addEventListener("keydown",(e)=>{
                if(e.key==="Enter" && !e.shiftKey){
                    e.preventDefault();
                    handleChat();
                }
            });

            setTimeout(testN8NConnection,1200);
        });

        sendChatBtn.addEventListener("click",()=>handleChat());
        closeBtn.addEventListener("click",()=>document.body.classList.remove("show-chatbot"));
        chatbotToggler.addEventListener("click",()=>document.body.classList.toggle("show-chatbot"));

        // suggestion clicks → send as user message
        chatbox.addEventListener("click",(e)=>{
            if(e.target.classList.contains("suggestion-btn")){
                handleChat(e.target.textContent);
            }
        });

        // textarea autoresize + submit on Enter
        messageInput.addEventListener('input',function(){
            this.style.height='auto';
            this.style.height=Math.min(this.scrollHeight,120)+'px';
        });
        messageInput.addEventListener('keypress',function(e){
            if(e.key==='Enter' && !e.shiftKey){
                e.preventDefault();
                handleChat();
            }
        });

        console.log(`
🤖 Riva AI Chatbot - Powered by N8N
==========================================
Version: 2.1
N8N Webhook: ${N8N_WEBHOOK_URL}
Status: Initializing...
==========================================
        `);

        window.addEventListener('unhandledrejection',function(event){
            console.error('Unhandled promise rejection:',event.reason);
            updateConnectionStatus('disconnected','Unexpected Error');
        });
        window.addEventListener('online',function(){
            console.log('🟢 Network: Online');
            setTimeout(testN8NConnection,1000);
        });
        window.addEventListener('offline',function(){
            console.log('🔴 Network: Offline');
            updateConnectionStatus('disconnected','No Internet');
        });
    </script>
</body>
</html>
